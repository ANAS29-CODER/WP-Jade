!function(){const t={_:"acf-views-light-box",IMAGE:"acf-views-light-box__image",ICON:"acf-views-light-box__icon",ICON__INACTIVE:"acf-views-light-box__icon--inactive",ICON_LEFT:"acf-views-light-box__icon-left",ICON_RIGHT:"acf-views-light-box__icon-right"},e={FULL:"full"};class i{constructor(t){this.gallery=t,this.lightBox=null,this.currentItem=null,this.setup()}removePopup(t){t.target===this.lightBox&&(t.preventDefault(),this.lightBox.remove(),this.lightBox=null,this.currentItem=null)}updateImage(){let i=document.createElement("img");i.classList.add(t.IMAGE);let s=this.currentItem.querySelector("img");s?(i.src=s.dataset[e.FULL]||s.src||"",this.lightBox.querySelector("img")?.remove(),this.lightBox.append(i)):console.log("ACF Views: Lightbox can't be created, the image element is missing")}updateArrowsState(){let e=this.lightBox.querySelector("."+t.ICON_LEFT),i=this.lightBox.querySelector("."+t.ICON_RIGHT);this.currentItem.previousSibling?e.classList.remove(t.ICON__INACTIVE):e.classList.add(t.ICON__INACTIVE),this.currentItem.nextSibling?i.classList.remove(t.ICON__INACTIVE):i.classList.add(t.ICON__INACTIVE)}showNextItem(){this.currentItem=this.currentItem.nextSibling,this.updateImage(),this.updateArrowsState()}showPrevItem(){this.currentItem=this.currentItem.previousSibling,this.updateImage(),this.updateArrowsState()}createPopup(e){this.currentItem=e,this.lightBox=document.createElement("div"),this.lightBox.classList.add(t._),this.lightBox.addEventListener("click",this.removePopup.bind(this)),this.updateImage(e);let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("viewBox","0 0 40 40"),i.setAttribute("width","40"),i.setAttribute("height","40"),i.classList.add(t.ICON),i.classList.add(t.ICON_LEFT),i.addEventListener("click",this.showPrevItem.bind(this));let s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","m13.5 7.01 13 13m-13 13 13-13"),i.append(s);let h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("viewBox","0 0 40 40"),h.setAttribute("width","40"),h.setAttribute("height","40"),h.classList.add(t.ICON),h.classList.add(t.ICON_RIGHT),h.addEventListener("click",this.showNextItem.bind(this));let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","m13.5 7.01 13 13m-13 13 13-13"),h.append(r),this.lightBox.append(i),this.lightBox.append(h),this.updateArrowsState(),document.body.append(this.lightBox)}setup(){[...this.gallery.children].forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),this.createPopup(t)}))}))}}new class{constructor(){this.lightboxes=window.acfViewsLightBox||[],this.lightboxes?"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.setup.bind(this)):this.setup():console.log("ACF Views: LightBox data is missing")}setup(){this.lightboxes.forEach((t=>{let e=document.querySelector(t);e&&new i(e)}))}}}();